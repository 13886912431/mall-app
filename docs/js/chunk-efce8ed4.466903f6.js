(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efce8ed4"],{"2f61":function(t,e,i){"use strict";i("717d")},"717d":function(t,e,i){},"7ebe":function(t,e,i){},"8efa":function(t){t.exports=JSON.parse('[{"title":"时令水果","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{"title":"酒水冲调","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{"title":"安心乳品","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{"title":"休闲零食","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{"title":"肉蛋食材","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{"title":"新鲜蔬菜","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{"title":"熟食餐饮","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{"title":"海鲜水产","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{"title":"粮油调味","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{"title":"某手美食","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{"title":"纸杯清洁","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{"title":"个人护理","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{"title":"美妆护肤","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{"title":"家居收纳","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{"title":"家用电器","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{"title":"3C数码","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{"title":"母婴用品","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{"title":"鲜花绿植","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{"title":"宠物用品","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{"title":"图书玩具","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{"title":"手表配饰","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]')},"9c98":function(t,e,i){"use strict";i("7ebe")},"9e28":function(t,e,i){"use strict";i("d732")},ba2d:function(t,e,i){},c1a4:function(t,e,i){"use strict";i("ba2d")},ce6a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classify-wrapper tabber-bottom"},[i("div",{staticClass:"search center"},[i("van-icon",{attrs:{name:"search"}}),i("span",[t._v("荔枝水果9.99")])],1),i("TopMenu"),t.loadingSide?i("van-loading",{attrs:{vertical:"",color:"#ffc0cb"}},[t._v("加载中...")]):[i("SideMenu"),i("GoodsList")],i("Tabbar",{attrs:{active:1}})],2)},s=[],o=i("5530"),c=i("2f62"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-wrapper"},[i("div",{staticClass:"goods-content"},[i("ul",{staticClass:"options flex"},[i("li",{staticClass:"item",class:{active:"all"===t.optionActive},on:{click:function(e){return t.changeOptionActive("all")}}},[t._v(" 综合 ")]),i("li",{staticClass:"item",class:{active:"sale"===t.optionActive},on:{click:function(e){return t.changeOptionActive("sale")}}},[t._v(" 销量 ")]),i("li",{staticClass:"item price",class:[{active:"price-up"===t.optionActive||"price-down"===t.optionActive},t.optionActive],on:{click:function(e){return t.changeOptionActive("price")}}},[t._v(" 价格 ")])]),0===t.goodsList.length?i("van-empty",{attrs:{image:"https://img01.yzcdn.cn/vant/custom-empty-image.png",description:"暂无商品"}}):i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshLoading,callback:function(e){t.refreshLoading=e},expression:"refreshLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("ul",{staticClass:"goods"},t._l(t.goodsList,(function(e,n){return i("li",{key:n,staticClass:"item"},[i("div",{staticClass:"img"},[i("van-image",{attrs:{src:e.images[0],"lazy-load":""},scopedSlots:t._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!0)})],1),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),i("div",{staticClass:"desc"},[t._v(t._s(e.desc))]),i("div",{staticClass:"tags"},t._l(e.tags,(function(e,n){return i("span",{key:n},[t._v(" "+t._s(e)+" ")])})),0),i("div",{staticClass:"bottom between"},[i("div",{staticClass:"price"},[t._v("¥"+t._s(e.price))]),i("van-stepper",{attrs:{theme:"round","disable-input":"","show-input":0!==e.buyCount,"show-minus":0!==e.buyCount,min:"0"},on:{change:function(i){return t.changeBuyCount(e.id,i)}},model:{value:e.buyCount,callback:function(i){t.$set(e,"buyCount",i)},expression:"item.buyCount"}})],1)])])})),0)])],1)],1)])},r=[],u=(i("96cf"),i("1da1")),l={name:"GoodsList",data:function(){return{optionActive:"all",page:1,refreshLoading:!1,loading:!1,finished:!1}},computed:Object(o["a"])({},Object(c["c"])("goods",{loadingGoods:"loadingGoods",goodsList:"goodsList"})),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])("goods",{resetGoodsList:"resetGoodsList",changeCounterMap:"changeCounterMap"})),{},{changeOptionActive:function(t){this.optionActive!==t&&("price"===t?"price-up"===this.optionActive?this.optionActive="price-down":this.optionActive="price-up":this.optionActive=t,this.onRefresh())},getGoodsList:function(t){var e=t.page,i=void 0===e?1:e,n=t.sort;return this.$store.dispatch("goods/getGoodsList",{page:i,sort:n})},onRefresh:function(){this.finished=!1,this.page=0,this.resetGoodsList(),this.onLoad()},onLoad:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page+=1,t.loading=!0,e.next=4,t.getGoodsList({page:t.page,sort:t.optionActive});case 4:i=e.sent,0===i.length?t.finished=!0:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()},changeBuyCount:function(t,e){this.changeCounterMap({id:t,count:e})}})},p=l,g=(i("2f61"),i("2877")),d=Object(g["a"])(p,a,r,!1,null,"6d31c442",null),m=d.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"sidemenu",staticClass:"sidemenu-wrapper"},t._l(t.sideList,(function(e,n){return i("div",{key:n,ref:"item",refInFor:!0,staticClass:"item",class:{active:t.active===n},on:{touchstart:function(e){t.onmove=!1},touchmove:function(e){t.onmove=!0},touchend:function(e){return t.changeActive(n)}}},[t._v(" "+t._s(0===n?"全部":e)+" ")])})),0)},f=[];function v(t){var e={begin:null,end:null,complete:null,onmove:null,duration:400,tick:16};this.option=Object(o["a"])(Object(o["a"])({},e),t);var i=!0;for(var n in this.option.begin)this.option.end[n]!==this.option.begin[n]&&(i=!1);function s(){var t={},e={};for(var i in this.option.begin)t[i]=this.option.end[i]-this.option.begin[i],e[i]=t[i]/this.times;return e}i||(this.timer=null,this.times=Math.ceil(this.option.duration/this.option.tick),this.curTimes=0,this.current=Object(o["a"])({},this.option.begin),this.speed=s.call(this),this.start())}v.prototype.start=function(){var t=this;function e(){for(var i in t.timer=requestAnimationFrame(e),t.curTimes++,t.option.begin)t.curTimes===t.times?(t.current[i]=t.option.end[i],t.stop()):t.current[i]+=t.speed[i];"function"===typeof t.option.onmove&&t.option.onmove(t.current)}this.timer=requestAnimationFrame(e)},v.prototype.stop=function(){cancelAnimationFrame(this.timer),this.timer=null,"function"===typeof this.option.complete&&this.option.complete()};var b={name:"SideMenu",data:function(){return{active:0,onmove:!1,page:1,sort:"all"}},computed:Object(o["a"])({},Object(c["c"])("goods",{sideList:"sideList",loadingSide:"loadingSide"})),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])("goods",{resetGoodsList:"resetGoodsList"})),{},{changeActive:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var n,s,o,c,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.onmove){i.next=2;break}return i.abrupt("return");case 2:if(e.active!==t){i.next=4;break}return i.abrupt("return");case 4:n=e.$refs.sidemenu,s=n.offsetHeight,o=e.$refs.item[t],c=o.offsetTop,a=o.offsetHeight,new v({begin:{move:n.scrollTop},end:{move:c-s/2+a/2},onmove:function(t){n.scrollTop=t.move}}),e.active=t,e.getGoodsList({type:e.sideList[t]});case 12:case"end":return i.stop()}}),i)})))()},getGoodsList:function(t){var e=t.page,i=void 0===e?1:e,n=t.type;this.resetGoodsList(),this.$store.dispatch("goods/getGoodsList",{page:i,type:n})}}),watch:{sideList:function(){this.active=0,this.getGoodsList({type:this.sideList[this.active]})}},mounted:function(){this.getGoodsList({type:this.sideList[this.active]})}},y=b,j=(i("9c98"),Object(g["a"])(y,h,f,!1,null,"6cee1366",null)),L=j.exports,k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"topmenu",staticClass:"topmenu-wrapper flex"},t._l(t.menuList,(function(e,n){return i("div",{key:n,ref:"item",refInFor:!0,staticClass:"item between",class:{active:t.active===n},on:{touchstart:function(e){t.onmove=!1},touchmove:function(e){t.onmove=!0},touchend:function(e){return t.changeActive(n)}}},[i("div",{staticClass:"img-wrap center"},[i("van-image",{attrs:{src:e.imgURL}})],1),i("div",{staticClass:"title"},[t._v(t._s(e.title))])])})),0)},C=[],R=i("8efa"),_={name:"TopMenu",data:function(){return{menuList:R,active:-1,onmove:!1}},methods:{changeActive:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var n,s,o,c,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.onmove){i.next=2;break}return i.abrupt("return");case 2:if(e.active!==t){i.next=4;break}return i.abrupt("return");case 4:return n=e.$refs.topmenu,s=n.offsetWidth,o=e.$refs.item[t],c=o.offsetLeft,a=o.offsetWidth,new v({begin:{move:n.scrollLeft},end:{move:c-s/2+a/2},onmove:function(t){n.scrollLeft=t.move}}),e.active=t,sessionStorage.setItem("topMenuActive",t),i.next=14,e.$store.dispatch("goods/getSideList",e.menuList[t].title);case 14:case"end":return i.stop()}}),i)})))()}},mounted:function(){var t=sessionStorage.getItem("topMenuActive");this.changeActive(t?+t:0)}},w=_,O=(i("9e28"),Object(g["a"])(w,k,C,!1,null,"5b2a8489",null)),A=O.exports,U={name:"Classify",components:{GoodsList:m,SideMenu:L,TopMenu:A},computed:Object(o["a"])({},Object(c["c"])("goods",{loadingSide:"loadingSide"}))},x=U,G=(i("c1a4"),Object(g["a"])(x,n,s,!1,null,"d6734f22",null));e["default"]=G.exports},d732:function(t,e,i){}}]);