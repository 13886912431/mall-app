(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fd77c9c"],{"159b":function(t,e,i){var n=i("da84"),o=i("fdbc"),s=i("17c2"),c=i("9112");for(var r in o){var a=n[r],u=a&&a.prototype;if(u&&u.forEach!==s)try{c(u,"forEach",s)}catch(l){u.forEach=s}}},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,o=i("a640"),s=o("forEach");t.exports=s?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"4de4":function(t,e,i){"use strict";var n=i("23e7"),o=i("b727").filter,s=i("1dde"),c=s("filter");n({target:"Array",proto:!0,forced:!c},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"8efa":function(t){t.exports=JSON.parse('[{"title":"时令水果","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/时令水果.jpg"},{"title":"酒水冲调","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/酒水冲调.jpg"},{"title":"安心乳品","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/安心乳品.jpg"},{"title":"休闲零食","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/休闲零食.jpg"},{"title":"肉蛋食材","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/肉蛋食材.jpg"},{"title":"新鲜蔬菜","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/新鲜食材.jpg"},{"title":"熟食餐饮","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/熟食餐饮.jpg"},{"title":"海鲜水产","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/海鲜水产.jpg"},{"title":"粮油调味","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/粮油调味.jpg"},{"title":"某手美食","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/某手美食.jpg"},{"title":"纸杯清洁","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/纸品清洁.jpg"},{"title":"个人护理","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/个人护理.jpg"},{"title":"美妆护肤","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/美妆护肤.jpg"},{"title":"家居收纳","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家居收纳.jpg"},{"title":"家用电器","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/家用电器.jpg"},{"title":"3C数码","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/3C数码.jpg"},{"title":"母婴用品","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/母婴用品.jpg"},{"title":"鲜花绿植","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/鲜花绿植.jpg"},{"title":"宠物用品","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/宠物用品.jpg"},{"title":"图书玩具","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/图书文具.jpg"},{"title":"手表配饰","imgURL":"https://duyi-bucket.oss-cn-beijing.aliyuncs.com/img/手表配饰.jpg"}]')},"9e28":function(t,e,i){"use strict";i("d732")},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,i){var n=i("23e7"),o=i("7b0b"),s=i("df75"),c=i("d039"),r=c((function(){s(1)}));n({target:"Object",stat:!0,forced:r},{keys:function(t){return s(o(t))}})},ba2d:function(t,e,i){},c1a4:function(t,e,i){"use strict";i("ba2d")},cbb4:function(t,e,i){"use strict";i("fee2")},ce6a:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"classify-wrapper tabber-bottom"},[i("div",{staticClass:"search center"},[i("van-icon",{attrs:{name:"search"}}),i("span",[t._v("荔枝水果9.99")])],1),i("TopMenu"),t.loadingSide?i("van-loading",{attrs:{vertical:"",color:"#ffc0cb"}},[t._v("加载中...")]):[i("SideMenu"),i("GoodsList")],i("Tabbar",{attrs:{active:1}})],2)},o=[];i("a4d3"),i("4de4"),i("e439"),i("dbb4"),i("b64b"),i("159b");function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){s(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var a=i("2f62"),u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"goods-wrapper"},[i("div",{staticClass:"goods-content"},[i("ul",{staticClass:"options flex"},[i("li",{staticClass:"item",class:{active:"all"===t.optionActive},on:{click:function(e){return t.changeOptionActive("all")}}},[t._v(" 综合 ")]),i("li",{staticClass:"item",class:{active:"sale"===t.optionActive},on:{click:function(e){return t.changeOptionActive("sale")}}},[t._v(" 销量 ")]),i("li",{staticClass:"item price",class:[{active:"price-up"===t.optionActive||"price-down"===t.optionActive},t.optionActive],on:{click:function(e){return t.changeOptionActive("price")}}},[t._v(" 价格 ")])]),0===t.goodsList.length?i("van-empty",{attrs:{image:"https://img01.yzcdn.cn/vant/custom-empty-image.png",description:"暂无商品"}}):i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.refreshLoading,callback:function(e){t.refreshLoading=e},expression:"refreshLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("ul",{staticClass:"goods"},t._l(t.goodsList,(function(e,n){return i("li",{key:n,staticClass:"item"},[i("div",{staticClass:"img"},[i("van-image",{attrs:{src:e.images[0],"lazy-load":""},scopedSlots:t._u([{key:"loading",fn:function(){return[i("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}],null,!0)})],1),i("div",{staticClass:"content"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),i("div",{staticClass:"desc"},[t._v(t._s(e.desc))]),i("div",{staticClass:"tags"},t._l(e.tags,(function(e,n){return i("span",{key:n},[t._v(" "+t._s(e)+" ")])})),0),i("div",{staticClass:"bottom between"},[i("div",{staticClass:"price"},[t._v("¥"+t._s(e.price))]),i("van-stepper",{attrs:{theme:"round","disable-input":""},model:{value:t.buyNum,callback:function(e){t.buyNum=e},expression:"buyNum"}})],1)])])})),0)])],1)],1)])},l=[],p=(i("96cf"),i("1da1")),d={name:"GoodsList",data:function(){return{optionActive:"all",page:1,refreshLoading:!1,loading:!1,finished:!1,buyNum:0}},computed:r({},Object(a["c"])("goods",{loadingGoods:"loadingGoods",goodsList:"goodsList"})),methods:r(r({},Object(a["b"])("goods",{resetGoodsList:"resetGoodsList"})),{},{changeOptionActive:function(t){this.optionActive!==t&&("price"===t?"price-up"===this.optionActive?this.optionActive="price-down":this.optionActive="price-up":this.optionActive=t,this.onRefresh())},getGoodsList:function(t){var e=t.page,i=void 0===e?1:e,n=t.sort;return this.$store.dispatch("goods/getGoodsList",{page:i,sort:n})},onRefresh:function(){this.finished=!1,this.page=0,this.resetGoodsList(),this.onLoad()},onLoad:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.page+=1,t.loading=!0,e.next=4,t.getGoodsList({page:t.page,sort:t.optionActive});case 4:i=e.sent,0===i.length?t.finished=!0:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}})},g=d,f=(i("f946"),i("2877")),m=Object(f["a"])(g,u,l,!1,null,"3f8e6276",null),v=m.exports,h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"sidemenu",staticClass:"sidemenu-wrapper"},t._l(t.sideList,(function(e,n){return i("div",{key:n,ref:"item",refInFor:!0,staticClass:"item",class:{active:t.active===n},on:{touchstart:function(e){t.onmove=!1},touchmove:function(e){t.onmove=!0},touchend:function(e){return t.changeActive(n)}}},[t._v(" "+t._s(0===n?"全部":e)+" ")])})),0)},b=[];function y(t){var e={begin:null,end:null,complete:null,onmove:null,duration:400,tick:16};this.option=r(r({},e),t);var i=!0;for(var n in this.option.begin)this.option.end[n]!==this.option.begin[n]&&(i=!1);function o(){var t={},e={};for(var i in this.option.begin)t[i]=this.option.end[i]-this.option.begin[i],e[i]=t[i]/this.times;return e}i||(this.timer=null,this.times=Math.ceil(this.option.duration/this.option.tick),this.curTimes=0,this.current=r({},this.option.begin),this.speed=o.call(this),this.start())}y.prototype.start=function(){var t=this;function e(){for(var i in t.timer=requestAnimationFrame(e),t.curTimes++,t.option.begin)t.curTimes===t.times?(t.current[i]=t.option.end[i],t.stop()):t.current[i]+=t.speed[i];"function"===typeof t.option.onmove&&t.option.onmove(t.current)}this.timer=requestAnimationFrame(e)},y.prototype.stop=function(){cancelAnimationFrame(this.timer),this.timer=null,"function"===typeof this.option.complete&&this.option.complete()};var j={name:"SideMenu",data:function(){return{active:0,onmove:!1,page:1,sort:"all"}},computed:r({},Object(a["c"])("goods",{sideList:"sideList",loadingSide:"loadingSide"})),methods:r(r({},Object(a["b"])("goods",{resetGoodsList:"resetGoodsList"})),{},{changeActive:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function i(){var n,o,s,c,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.onmove){i.next=2;break}return i.abrupt("return");case 2:if(e.active!==t){i.next=4;break}return i.abrupt("return");case 4:n=e.$refs.sidemenu,o=n.offsetHeight,s=e.$refs.item[t],c=s.offsetTop,r=s.offsetHeight,new y({begin:{move:n.scrollTop},end:{move:c-o/2+r/2},onmove:function(t){n.scrollTop=t.move}}),e.active=t,e.getGoodsList({type:e.sideList[t]});case 12:case"end":return i.stop()}}),i)})))()},getGoodsList:function(t){var e=t.page,i=void 0===e?1:e,n=t.type;this.resetGoodsList(),this.$store.dispatch("goods/getGoodsList",{page:i,type:n})}}),watch:{sideList:function(){this.active=0;var t=this.$refs.sidemenu;new y({begin:{move:t.scrollTop},end:{move:0},onmove:function(e){t.scrollTop=e.move}}),this.getGoodsList({type:this.sideList[this.active]})}},mounted:function(){console.log(1),this.getGoodsList({type:this.sideList[this.active]})}},L=j,k=(i("cbb4"),Object(f["a"])(L,h,b,!1,null,"54be3ded",null)),O=k.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"topmenu",staticClass:"topmenu-wrapper flex"},t._l(t.menuList,(function(e,n){return i("div",{key:n,ref:"item",refInFor:!0,staticClass:"item between",class:{active:t.active===n},on:{touchstart:function(e){t.onmove=!1},touchmove:function(e){t.onmove=!0},touchend:function(e){return t.changeActive(n)}}},[i("div",{staticClass:"img-wrap center"},[i("van-image",{attrs:{src:e.imgURL}})],1),i("div",{staticClass:"title"},[t._v(t._s(e.title))])])})),0)},R=[],_=i("8efa"),A={name:"TopMenu",data:function(){return{menuList:_,active:-1,onmove:!1}},methods:{changeActive:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function i(){var n,o,s,c,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.onmove){i.next=2;break}return i.abrupt("return");case 2:if(e.active!==t){i.next=4;break}return i.abrupt("return");case 4:return n=e.$refs.topmenu,o=n.offsetWidth,s=e.$refs.item[t],c=s.offsetLeft,r=s.offsetWidth,new y({begin:{move:n.scrollLeft},end:{move:c-o/2+r/2},onmove:function(t){n.scrollLeft=t.move}}),e.active=t,sessionStorage.setItem("topMenuActive",t),i.next=14,e.$store.dispatch("goods/getSideList",e.menuList[t].title);case 14:case"end":return i.stop()}}),i)})))()}},mounted:function(){var t=sessionStorage.getItem("topMenuActive");this.changeActive(t?+t:0)}},C=A,x=(i("9e28"),Object(f["a"])(C,w,R,!1,null,"5b2a8489",null)),U=x.exports,G={name:"Classify",components:{GoodsList:v,SideMenu:O,TopMenu:U},computed:r({},Object(a["c"])("goods",{loadingSide:"loadingSide"}))},S=G,E=(i("c1a4"),Object(f["a"])(S,n,o,!1,null,"d6734f22",null));e["default"]=E.exports},d732:function(t,e,i){},dbb4:function(t,e,i){var n=i("23e7"),o=i("83ab"),s=i("56ef"),c=i("fc6a"),r=i("06cf"),a=i("8418");n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,i,n=c(t),o=r.f,u=s(n),l={},p=0;while(u.length>p)i=o(n,e=u[p++]),void 0!==i&&a(l,e,i);return l}})},dce2:function(t,e,i){},e439:function(t,e,i){var n=i("23e7"),o=i("d039"),s=i("fc6a"),c=i("06cf").f,r=i("83ab"),a=o((function(){c(1)})),u=!r||a;n({target:"Object",stat:!0,forced:u,sham:!r},{getOwnPropertyDescriptor:function(t,e){return c(s(t),e)}})},f946:function(t,e,i){"use strict";i("dce2")},fee2:function(t,e,i){}}]);