(function(e){function t(t){for(var a,r,i=t[0],c=t[1],u=t[2],d=0,l=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&l.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(l.length)l.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o={app:0},s=[];function i(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0cbe62":"e4d3d732","chunk-2d21a3d2":"9931ed08","chunk-4046ad13":"d2e9698c","chunk-4862e3b4":"787f4344","chunk-5fd0baad":"06929766"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-4046ad13":1,"chunk-4862e3b4":1,"chunk-5fd0baad":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-2d0cbe62":"31d6cfe0","chunk-2d21a3d2":"31d6cfe0","chunk-4046ad13":"249d3a90","chunk-4862e3b4":"5540eaab","chunk-5fd0baad":"16228a6f"}[e]+".css",o=c.p+a,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===a||d===o))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){u=l[i],d=u.getAttribute("data-href");if(d===a||d===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[e],p.parentNode.removeChild(p),n(s)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var s=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=s);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=i(e);var l=new Error;u=function(t){d.onerror=d.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:d})}),12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://13886912431.github.io/mall-app/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=d;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2395:function(e,t,n){},"365c":function(e,t,n){"use strict";n("d3b7");var a=n("bc3a"),r=n.n(a),o="https://mallapi.duyiedu.com/goods/",s="serein_1608558115171",i=r.a.create({baseURL:o,params:{appkey:s},timeout:1e4});i.interceptors.response.use((function(e){return 200===e.status?e.data:e}),(function(e){return Promise.reject(e)}));var c=i;t["a"]={getSideList:function(e){return c.get("/getsidebar",{params:{type:e}})},getGoodsList:function(e){return c.get("/getGoodsList",{params:e})},getGoodsByIds:function(e){return c.get("/getGoodsByIds",{params:e})},likeSearch:function(e){return c.get("/likeSearch",{params:{likeValue:e}})},search:function(e){return c.get("/search",{params:e})}}},"3d39":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-tabbar",{attrs:{value:e.active}},[n("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[e._v("首页")]),n("van-tabbar-item",{attrs:{icon:"apps-o",to:"/classify"}},[e._v("分类")]),n("van-tabbar-item",{attrs:{icon:"shopping-cart-o",to:"/shopping",badge:e.totalCount,id:"shopping"}},[e._v(" 购物车 ")]),n("van-tabbar-item",{attrs:{icon:"user-o",to:"/my"}},[e._v("我的")])],1)},r=[],o=(n("13d5"),n("07ac"),n("5530")),s=n("2f62"),i={name:"Tabbar",props:["active"],computed:Object(o["a"])(Object(o["a"])({},Object(s["c"])("goods",{counterMap:"counterMap"})),{},{totalCount:function(){var e=Object.values(this.counterMap).reduce((function(e,t){return e+t}),0);return e>99?"99+":e}})},c=i,u=n("2877"),d=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=d.exports},"458a":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"goods-card"},[n("div",{staticClass:"img"},[n("van-image",{ref:"img",attrs:{src:e.images[0],"lazy-load":""},scopedSlots:e._u([{key:"loading",fn:function(){return[n("van-loading",{attrs:{type:"spinner",size:"20"}})]},proxy:!0}])})],1),n("div",{staticClass:"content"},[n("div",{staticClass:"title van-ellipsis"},[e._v(e._s(e.title))]),n("div",{staticClass:"desc van-ellipsis"},[e._v(e._s(e.desc))]),n("div",{staticClass:"tags"},e._l(e.tags,(function(t,a){return n("span",{key:a},[e._v(" "+e._s(t)+" ")])})),0),n("div",{staticClass:"bottom between"},[n("div",{staticClass:"price"},[e._v("¥"+e._s(e.price))]),n("van-stepper",{attrs:{value:e.count,theme:"round","disable-input":"","show-input":0!==e.count,"show-minus":0!==e.count,"async-change":"",min:"0"},on:{change:function(t){return e.changeBuyCount(t)},plus:function(t){return e.plusBuyCount(e.images[0])}},nativeOn:{click:function(e){e.stopPropagation()}}})],1)])])},r=[],o=(n("96cf"),n("1da1")),s=n("5530"),i=n("2f62"),c=n("2b0e"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fly-wrapper",style:{width:e.width+"px",height:e.height+"px",opacity:e.opacity,transform:"translate("+e.endX+"px, "+e.endY+"px) scale("+e.scale+")"}},[n("van-image",{attrs:{src:e.src}})],1)},d=[],l={},p=l,f=(n("bdaf"),n("2877")),h=Object(f["a"])(p,u,d,!1,null,"3c26dcdd",null),m=h.exports,g=c["a"].extend(m),b=function(e){var t=e.src,n=e.width,a=e.height,r=e.startX,o=e.startY,s=e.endX,i=e.endY,c=new g({el:document.createElement("div"),data:function(){return{src:t,width:n,height:a,startX:r,startY:o,endX:r,endY:o,opacity:1,scale:1}}});document.body.appendChild(c.$el),c.$el.addEventListener("transitionend",(function(){c.$el.remove()})),setTimeout((function(){c.endX=s,c.endY=i,c.opacity=0,c.scale=0}),0)},v={name:"GoodsCard",props:["id","images","title","desc","tags","price","count","confirmDelete","useFly"],methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])("goods",{changeCounterMap:"changeCounterMap"})),{},{changeBuyCount:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t.confirmDelete||0!==e){n.next=11;break}return n.prev=1,n.next=4,t.$dialog.confirm({message:"您是否要删除该商品?"});case 4:t.$emit("delete",t.id),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](1);case 9:n.next=12;break;case 11:t.changeCounterMap({id:t.id,count:e});case 12:case"end":return n.stop()}}),n,null,[[1,7]])})))()},plusBuyCount:function(e){if(this.useFly){var t=this.$refs.img.$el,n=t.offsetWidth,a=t.offsetHeight,r=t.getBoundingClientRect(),o=r.left,s=r.top,i=document.getElementById("shopping"),c=i.offsetWidth,u=i.offsetHeight,d=i.getBoundingClientRect(),l=d.left,p=d.top;l+=c/2,p+=u/2,b({src:e,width:n,height:a,endX:l,endY:p,startX:o,startY:s})}}})},y=v,k=(n("d169"),Object(f["a"])(y,a,r,!1,null,"2df8a0db",null));t["default"]=k.exports},"4ee2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("d81d"),n("d3b7"),n("ac1f"),n("1276"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("transition",{attrs:{name:e.transitionName,mode:"in-out"}},[n("router-view",{staticClass:"view"})],1)],1)},o=[],s=n("5530"),i=n("2f62"),c={name:"app",data:function(){return{transitionName:""}},watch:{$route:function(){this.transitionName=this.$router.isBack?"out":"in",this.$router.isBack=!1}},methods:Object(s["a"])({},Object(i["b"])("goods",{setCounterMap:"setCounterMap"})),created:function(){var e=localStorage.getItem("counterMap");e=e?JSON.parse(e):{},this.setCounterMap(e)}},u=c,d=(n("7c55"),n("2877")),l=Object(d["a"])(u,r,o,!1,null,null,null),p=l.exports,f=n("8c4f"),h=function(){return n.e("chunk-2d21a3d2").then(n.bind(null,"bb51"))},m=function(){return n.e("chunk-5fd0baad").then(n.bind(null,"ce6a"))},g=function(){return n.e("chunk-4862e3b4").then(n.bind(null,"aa3f"))},b=function(){return n.e("chunk-2d0cbe62").then(n.bind(null,"4c41"))},v=function(){return n.e("chunk-4046ad13").then(n.bind(null,"2d3b"))},y=[{path:"*",redirect:"/classify"},{path:"/",name:"Home",component:h},{path:"/classify",name:"Classify",component:m},{path:"/shopping",name:"Shopping",component:g},{path:"/my",name:"My",component:b},{path:"/search",name:"Search",component:v}];f["a"].prototype.isBack=!1,f["a"].prototype.transitionBack=function(){this.isBack=!0,this.back()},a["a"].use(f["a"]);var k=new f["a"]({mode:"hash",routes:y,scrollBehavior:function(e,t,n){return n||{x:0,y:0}}}),w=k,O=(n("99af"),n("96cf"),n("1da1")),C=n("2909"),S=n("365c"),_=n("ed08"),j={namespaced:!0,state:{sideList:[],goodsList:[],loadingSide:!1,type:null,limit:10,sort:"all",counterMap:{}},mutations:{setSideList:function(e,t){e.sideList=t},setGoodsList:function(e,t){e.goodsList=[].concat(Object(C["a"])(e.goodsList),Object(C["a"])(t))},resetGoodsList:function(e){e.goodsList=[]},setLoadSideStatus:function(e,t){e.loadingSide=t},setGoodsListType:function(e,t){e.type=t},setGoodsListSort:function(e,t){e.sort=t},setCounterMap:function(e,t){e.counterMap=t},changeCounterMap:function(e,t){var n=t.id,r=t.count;r<=0||!r?a["a"].delete(e.counterMap,n):a["a"].set(e.counterMap,n,r),localStorage.setItem("counterMap",JSON.stringify(e.counterMap))}},actions:{getSideList:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,a("setLoadSideStatus",!0),n.next=4,S["a"].getSideList(t);case 4:return r=n.sent,a("setSideList",r),n.next=8,Object(_["b"])(100);case 8:a("setLoadSideStatus",!1);case 9:case"end":return n.stop()}}),n)})))()},getGoodsList:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function n(){var a,r,o,s,i,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.commit,r=e.state,o=t.type,s=t.page,i=t.sort,o=o||r.type,i=i||r.sort,n.next=6,S["a"].getGoodsList({size:r.limit,page:s,type:o,sort:i});case 6:return c=n.sent,a("setGoodsList",c.list),a("setGoodsListType",o),a("setGoodsListSort",i),n.abrupt("return",c.list);case 11:case"end":return n.stop()}}),n)})))()}}};a["a"].use(i["a"]);var L=new i["a"].Store({state:{},mutations:{},actions:{},modules:{goods:j}}),x=(n("66b9"),n("b650")),M=(n("537a"),n("ac28")),B=(n("a52c"),n("2ed4")),E=(n("c3a6"),n("ad06")),T=(n("4056"),n("44bf")),$=(n("ac1e"),n("543e")),G=(n("66cf"),n("343b")),P=(n("91d5"),n("f0ca")),N=(n("ab71"),n("58e6")),R=(n("2994"),n("2bdd")),X=(n("f06a"),n("20fb")),Y=(n("5246"),n("6b41")),A=(n("be39"),n("efa0")),D=(n("3c32"),n("417e")),I=(n("a909"),n("3acc")),F=(n("5852"),n("d961")),H=(n("c194"),n("7744")),J=(n("e17f"),n("2241")),U=(n("e7e5"),n("d399"));a["a"].prototype.$toast=U["a"],a["a"].prototype.$dialog=J["a"],a["a"].use(x["a"]).use(M["a"]).use(B["a"]).use(E["a"]).use(T["a"]).use($["a"]).use(G["a"]).use(P["a"]).use(N["a"]).use(R["a"]).use(X["a"]).use(Y["a"]).use(A["a"]).use(D["a"]).use(I["a"]).use(F["a"]).use(H["a"]);n("499a"),n("4ee2");var z=n("ffe0");z.keys().map((function(e){return a["a"].component(e.split("/").pop().split(".")[0],z(e).default)})),a["a"].config.productionTip=!1,new a["a"]({router:w,store:L,render:function(e){return e(p)}}).$mount("#app")},"5db5":function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},"9a50":function(e,t,n){},bdaf:function(e,t,n){"use strict";n("5db5")},d169:function(e,t,n){"use strict";n("9a50")},ed08:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));n("d3b7"),n("96cf");var a=n("1da1");function r(){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1500,e.next=3,new Promise((function(e){setTimeout((function(){e()}),t)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;if("function"===typeof e){var n=null;return function(){for(var a=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];clearTimeout(n),n=setTimeout((function(){e.apply(a,o)}),t)}}}},ffe0:function(e,t,n){var a={"./GoodsCard.vue":"458a","./Tabbar.vue":"3d39"};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id="ffe0"}});